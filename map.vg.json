{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "title": "Financial Year 2022-2023",
    "width": 600,
    "height": 450,
    "params": [
        {
            "name": "zoom_level",
            "value": 5000,
            "bind": {"input": "range", "min": 3000, "max": 20000, "step": 500}

        },
        {
            "name": "center_to",
            "value": [144.9631, -37.5]
        }
    ],
    "projection": {"type": "mercator", "center": {"expr": "center_to"}, "scale": {"expr": "zoom_level"}},
    "layer": [
    {
    "data": {
    "url": "https://raw.githubusercontent.com/Envy-y/FIT3179-A2/main/georef-australia-local-government-area%40public.json",
    "format": {
        "type": "topojson",
        "feature": "georef-australia-local-government-area@public"
    }
    },
    "transform": [
    {
        "lookup": "properties.lga_name",
        "from": {
        "data": {
            "url": "https://raw.githubusercontent.com/Envy-y/FIT3179-A2/main/A2%20data.csv",
            "format": {"type": "csv"}
        },
        "key": "LGA Name",
        "fields": ["EXP per adult", "LGA Name"]
        }
    }
    ],
    "mark": {"type": "geoshape","stroke":"black"},
    "encoding": {
    "color": {"field": "EXP per adult", "type": "quantitative","title": "Average Loss ($Aud)","scale": {"scheme": "lightorange"}},
    "tooltip": [
        {"field": "LGA Name", "type": "nominal", "title": "Local Government"},
        {"field": "EXP per adult", "type": "quantitative","title": "Loss (Aud)","format": "$"}
    ]
    }
    },
    {
    "data": {
    "url":"https://raw.githubusercontent.com/Envy-y/FIT3179-A2/main/Surrounding.json",
    "format": {"type": "topojson", "feature": "surrounding"}
    },
    "mark": {"type":"geoshape","fill":"lightgrey","stroke":"black"},
    "encoding": {
        "tooltip": [{"field": "properties.STATE_NAME", "type": "nominal", "title": "State"}]
    }
    },
    {
    "data": {
    "url":"https://raw.githubusercontent.com/Envy-y/FIT3179-A2/main/state_loc.json",
    "format": {"type": "json"}
    },
    "mark": {"type":"text"},
    "encoding": {
        "text": {"field": "state_code", "type": "nominal","title": "State"},
        "longitude": {"field": "lon", "type": "quantitative"},
        "latitude": {"field": "lat", "type": "quantitative"}
    }
    }
    ],
    "config": {}
}
